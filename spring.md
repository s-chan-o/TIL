# 스프링
## 스프링, 스프링 부트
#### 스프링
- java의 웹 프레임워크로 java 언어를 기반으로 사용한다. **java로 다양한 어플리케이션을 만들기 위한 프로그래밍 틀**이라 할 수 있다.
- 프레임워크란? - 프레임워크는 어떠한 목적을 달성하기 위해 복잡하게 얽혀 있는 문제를 해결하기 위한 구조이자 약속이며, 소프트웨어 개발에 있어서 하나의 뼈대 역할을 한다. 
#### 스프링 부트
- **스프링으로 애플리케이션을 만들 때에 필요한 설정을 간편하게 처리해주는 별도의 프레임워크**다.
- 추상화된 틀을 제공하고, 이에 맞추어 애플리케이션을 개발할 수 있게 도와주는 프레임워크이고, 여러가지 유용한 라이브러리들을 제공하는 모음이다.
## Ioc, DI, Bean, Application Context
#### Ioc
- 제어의 역전이라는 뜻으로 **프로그램의흐름을 개발자가 아닌 프레임워크가 제한하는 것**을 말한다. 
- 제어의 역전은 제어흐름을 직접 제어하는 것이 아닌 외부에서 관리하는 것이다.
#### DI
- 의존성 주입이란 **외부에서 두 객체 간의 관계를 결정해주는 디자인 패턴으로, 인터페이스를 사이에 둬서 클래스 레벨에서는 의존관계가 고정되지 않도록 하고 런타임 시게 관계를 동정으로 주입하여 유연성을 확보하고 결합도를 낮출 수 있게 하는것**이다.
#### Bean
- 쉽게 말해 **스프링 컨테이너가 생성해준 자바 객체**를 의미한다.
- 스프링 컨테이너는 스프링 빈의 생명 주기를 관리하며, 생성된 스프링 빈들에게 추가적인 기능을 제공하는 역할을 한다. Ioc, DI의 원리가 스프링 컨테이너에 적용된다.
#### Application Context
- **스프링에서 제공하는 고급 설정 정보 인터페이스로, 다른 스프링 프레임워크와 함께 작동**한다.
- 애플리케이션의 모든 구성 요소를 담당하며, 필요한 모든 객체를 생성하고 서로 연결하는 역할을 한다.
## DTO, DAO, VO, Entity
#### DTO
- DTO는 **계층간 데이터 교환을 위한 자바빈즈**를 의미한다.
- DTO는 로직을 가지지 않는 데이터 객체이고 getter/setter메소드만 가는 클래스를 의마한다.
#### DAO
- DAO는 **DB의 data에 접근하기 위한 객체로 직접 DB에 접근하여 데이터를 삽입, 삭제, 조회 등 조작할 수 있는 기능을 수행**한다.
- DB접근을 하기 위한 로직과 비지니스 로직을 분리하기 위해 사용한다.
#### VO
- VO는 **값 그 자체의 의미를 가진 불변 클래스**를 의미한다.(getter만 존재)
- VO는 특정한 비즈니스 값을 담는 객체이다.
#### Entity
- Entity 클래스는 **실제 DataBase의 테이블과 1 : 1로 매핑 되는 클래스**로, DB의 테이블내에 존재하는 컬럼만을 속성(필드)으로 가져야 한다.
- Entity 클래스는 상속을 받거나 구현체여서는 안되며, 테이블내에 존재하지 않는 컬럼을 가져서도 안된다.
## Requeset Body, Response Body
#### Requeset Body
- **클라이언트가 서버로 전송하는 Http 요청의 Body의 내용을 JavaObject로 변환시켜주는 어노테이션**이다.
- name 과 age 의 속성을 갖는 Star 클래스에 getter 가 구현되어 있다면 Start 객체를 자동으로 생성이 가능하다.
#### Response Body
- Response Body 어노테이션은 **Spring Framework에서 사용되는 어노테이션** 중 하나로, 웹 애플리케이션에서 컨트롤러 메소드가 반환하는 값을 HTTP 응답의 본문 (body)으로 전송하기 위해 사용한다.
## JDBC, datasource
#### JDBC
- JDBC는 **자바에서 데이터베이스에 접속할 수 있는 API** 이다.
- Spring JDBC는 Spring Framework에서 제공하는 JDBC모듈이다.
#### datasource
- **DB 연결 정보를 저장하고, Connection을 생성하고, Connection Pool에 등록하고 관리하는 역할** 이다.
## Spring URL, Handler Mapping
#### Spring URL
- URL 주소는 **사용자가 서버에 접속해서 서비스를 받기 위해 입력하는 주소**이다
#### Handler Mapping
- Handler Mapping은 **클라이언트의 요청을 처리할 핸들러를 결정하는 역할**을 한다.
- 웹 애플리케이션은 다양한 요청을 받게 되는데, Handler Mapping은 이러한 요청에 대해 어떤 핸들러가 처리해야하는지를 결정한다.
## Spring Data Jpa
#### Spring Data Jpa
-  **Hibernate 와 JPA 를 기반으로한 데이터 엑세스 기술을 보다 간편하게 사용할 수 있도록 지원하는 Spring Framework 의 프로젝트** 중 하나이다.
- JPA : JPA는 자바 진영에서 ORM(Object-Relational Mapping) 기술 표준으로 사용되는 인터페이스의 모음이다.

## Spring MVC
> MVC 패턴이란?

- MVC 패턴은 애플리케이션을 개발할 때 사용하는 디자인 패턴이다.
- 애플리케이션의 개발 영역을 MVC (Model, View, Controller)로 구분하여 각 역할에 맞게 코드를 작성하는 개발 방식이다.
- MVC 패턴을 도입하면서 UI 영역과 도메인(비즈니스 로직) 영역으로 구분되어 서로에게 영향을 주지 않으면서 개발과 유지보수가 가능하다.
- MVC에서 모델은 애플리케이션의 정보(데이터)를 나타내며, 뷰는 텍스트, 체크박스 항목 등과 같은 사용자 인터페이스 요소를 나타내고, 컨트롤러는 데이터와 비즈니스 로직 사이의 상호동작을 관리한다.

> MVC 패턴을 사용하는 이유

사용자가 보는 페이지, 데이터 처리, 그리고 이 2가지를 중간에서 제어하는 컨트롤 이렇게 3가지로 구성되는 하나의 애플리케이션을 만들면 각각 맡은 역할에만 집중을 할 수 있게 된다.

- MVC 패턴의 사용 목적 : 각 컴포넌트가 서로 분리되어 각자의 역할에 집중할 수 있기 때문에 시스템 결합도를 낮출 수 있다. 또한, 유지보수가 쉬우며, 중복코드를 제거할 수 있고, 애플리케이션의 확장성 및 유연성이 증가한다.

> Model, View, Controller

#### Model

- Spring MVC 기반의 웹 애플리케이션이 클라이언트의 요청을 전달받으면 요청 사항을 처리하기 위한 작업을 한다. 
- 처리한 작업의 결과 데이터를 클라이언트에게 응답으로 돌려주어야 하는데, 이 때 클라이언트에게 응답으로 돌려주는 작업의 처리 결과 데이터를 Model이라고 한다.

#### View

- View는 Model을 이용하여 웹 브라우저와 같은 애플리케이션의 화면에 보이는 리소스를 제공하는 역할을 한다.
- Spring MVC에는 다양한 View 기술이 포함되어 있다.
    - HTML 페이지 출력
    - PDF, Excel 등의 문서 형태로 출력
    - XML, JSON 등 특정 형식의 포맷으로 변환

#### Controller

- 컨트롤러는 클라이언트 측의 요청을 직접적으로 전달받는 엔드포인트로써 Model과 View의 중간에서 상호작용을 해주는 역할을 한다.
- 클라이언트 측의 요청을 전달받아 비즈니스 로직을 거친 후, Model 데이터가 만들어지면 이 Model 데이터를 View로 전달하는 역할을 한다.

> MVC1, MVC2

#### MVC1

우리가 흔히 사용하고 있는 MVC 패턴은 사실 MVC1, MVC2 아키텍쳐에서 발전된 패턴이다.

- MVC1 패턴이란, 브라우저(사용자)로부터 요청이 들어오면 DB로부터 필요한 데이터를 받은 Model객체를 JSP 페이지에 담아 응답으로 보내는 패턴이다.
- MVC1 에서는 JSP가 View와 Controller 역할을 모두 담당하기 때문에 JSP 페이지 내에 너무 많은 코드가 들어가게 된다. 따라서, 코드의 가독성이 떨어질 뿐만 아니라 코드가 복잡해질 가능성이 있다. 이러한 점을 보완하여 Controller 역할을 하는 Servlet이 추가된 MVC2 패턴이 등장하게 되었다.

#### MVC2

- MVC2 패턴은 요청을 하나의 컨트롤러가 먼저 받는다.
- 서블릿은 요청에 대한 비즈니스 로직을 처리한 후, 이를 JSP 파일에 반영하는 역할을 수행한다. 
- MVC2는 MVC1 패턴보다 구조가 복잡해질 수 있으나, 이러한 문제점들을 해결하기 위해 각종 프레임워크들이 지금까지 잘 발전되어 왔고, 그 중에서 대표적인 것이 바로 스프링 프레임워크이다.

> Spring MVC 구조

#### DispatcherServlet

- Front Controller의 역할을 수행하며 Request를 각각의 Controller에게 위임한다.
- 가장 앞 단에서 클라이언트의 요청을 처리하는 Controller로써 요청부터 응답까지 전반적인 처리 과정을 통제한다.

         DispatcherServlet을 Front Controller로 설정하는 방법 : 
        1. web.xml에 명시한다.
        2. org.springframework.web.WebApplicationInitializer 인터페이스를 구현한다.

#### Handler Mapping

- 요청을 직접 처리할 컨트롤러를 탐색한다.
- 구체적인 Mapping은 xml파일이나 java config 관력 어노테이션 등을 통해 처리할 수 있다.

#### HandlerAdapter

- 매핑된 컨트롤러의 실행을 요청한다

#### Controller

- DispatcherServlet이 전달해준 HTTP 요청을 처리하고 결과를 Model에 저장한다.
    - 직접 요청을 처리하고 처리 결과를 반환한다.
    - 결과가 반환되면 HandlerAdapter가 ModelAndView 객체로 변환되며, 여기에는 View Name과 같이 응답을 통해 보여줄 View에 대한 정보와 관련된 데이터가 포함되어 있다.

#### ModelAndView

- Controller에 의해 반환된 Model과 View가 Wrapping된 객체이다.

#### View Resolver

- View Name을 확인한 후, 실제 컨트롤러로부터 받은로직 처리 결과를 반영할 View 파일 (jsp)을 탐색한다.

#### View

- 로직 처리 결과를 반영한 최종 화면을 생성한다.

> Spring MVC 동작 구조

- 사용자의 모든 요청을 받아 처리한다.
- 프론트 컨트롤러에 해당하는 역할을 수행하며 Request를 각각의 Controller에게 위임한다.
- DispatcherServlet을 프론트 컨트롤러로 가능하도록 설정하기 위해서는 이를 web.xml에 명시하거나 org.springframework.web.WebApplicationnlnitializer 인터페이스를 구현하는 두 가지 방식을 사용할 수 있다.